## ğŸ¯ ã‚¹ãƒ­ãƒƒãƒˆã‚²ãƒ¼ãƒ ä»•æ§˜æ›¸ï¼ˆReact + TypeScriptï¼‰

### 1. ã‚²ãƒ¼ãƒ æ¦‚è¦
- 3ãƒªãƒ¼ãƒ«å¼ã‚¹ãƒ­ãƒƒãƒˆã‚²ãƒ¼ãƒ 
- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¯ãƒ™ãƒƒãƒˆé¡ã‚’è¨­å®šã—ã€ã‚¹ãƒ”ãƒ³ã—ã¦çµµæŸ„ã‚’æƒãˆã‚‹
- çµµæŸ„ãŒæƒã†ã¨å€ç‡ã«å¿œã˜ãŸå ±é…¬ã‚’ç²å¾—
- ã‚¹ãƒ”ãƒ³ãƒ»ã‚¹ãƒˆãƒƒãƒ—ãƒ»ãƒªãƒ¼ãƒãƒ»å½“ãŸã‚Šæ™‚ã«éŸ³å£°æ¼”å‡ºã‚ã‚Š
- å±¥æ­´ãƒ»çµµæŸ„å‡ºç¾å›æ•°ãƒ»æ®‹é«˜ãƒ»è³¼å…¥åˆ¶é™ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
- ãƒªãƒ¼ãƒ«åœæ­¢ãƒœã‚¿ãƒ³ã¯å¸¸æ™‚è¡¨ç¤ºã•ã‚Œã€å›è»¢ä¸­ã®ã¿æœ‰åŠ¹ï¼ˆReel.tsxå†…ï¼‰
- ãƒªãƒ¼ãƒæ¼”å‡ºã‚ã‚Šï¼šåœæ­¢æ¸ˆã¿ã®æœ€åˆã®2ãƒªãƒ¼ãƒ«ãŒä¸€è‡´ã—ãŸå ´åˆã«ç™ºå‹•

---

### 2. çµµæŸ„ã¨å€ç‡è¨­å®šï¼ˆé †ç•ªå¤‰æ›´æ¸ˆã¿ï¼‰

| çµµæŸ„ | å€ç‡ | å½“ãŸã‚ŠéŸ³ |
|------|------|-----------|
| ğŸ’   | 2å€  | win1.mp3  |
| ğŸ‹   | 3å€  | win1.mp3  |
| 7ï¸âƒ£  | 20å€ | win2.mp3  |
| ğŸ””   | 5å€  | win1.mp3  |
| ğŸ€   | 10å€ | win1.mp3  |
| â­   | 8å€  | win1.mp3  |

---

### 3. éŸ³å£°æ¼”å‡ºä»•æ§˜

| ã‚¤ãƒ™ãƒ³ãƒˆ       | éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«         | å‚™è€ƒ                         |
|----------------|----------------------|------------------------------|
| ã‚¹ãƒ”ãƒ³é–‹å§‹     | `/sounds/spin.wav`   | å‰å›ã®éŸ³ã‚’åœæ­¢ã—ã¦å†ç”Ÿ      |
| ãƒªãƒ¼ãƒ«åœæ­¢     | `/sounds/stop.mp3`   | å„ãƒªãƒ¼ãƒ«åœæ­¢æ™‚ã«å†ç”Ÿ        |
| ãƒªãƒ¼ãƒæ¼”å‡º     | `/sounds/reach.wav`  | ãƒªãƒ¼ãƒæˆç«‹æ™‚ã«å†ç”Ÿ          |
| å½“ãŸã‚Šæ¼”å‡º     | `/sounds/winX.mp3`   | çµµæŸ„ã«å¿œã˜ã¦ç•°ãªã‚‹éŸ³ã‚’å†ç”Ÿ  |

---

### 4. ã‚¹ãƒ”ãƒ³å‡¦ç†ï¼ˆSlotMachine.tsxï¼‰

```ts
const startSpin = () => {
  if (score < bet) return;
  setSpinning([true, true, true]);
  setResult(['â”', 'â”', 'â”']);
  setLastWinMessage('');
  setReachActive(false);
  setReachTargets([]);
  setScore((prev) => {
    const newScore = prev - bet;
    localStorage.setItem('slotScore', newScore.toString());
    return newScore;
  });
  audioController.play('/sounds/spin.wav');
};
```

---

### 5. ãƒªãƒ¼ãƒ«åœæ­¢å‡¦ç†ï¼ˆReel.tsxï¼‰

- åœæ­¢ãƒœã‚¿ãƒ³ã¯å¸¸æ™‚è¡¨ç¤ºã•ã‚Œã€`spinning` ãŒ `true` ã®ã¨ãã®ã¿æœ‰åŠ¹ï¼ˆ`disabled`ï¼‰
- åœæ­¢æ™‚ã«çµµæŸ„ã‚’ä¸­å¤®ã«æƒãˆã€æ¼”å‡ºï¼ˆæ‹¡å¤§ãƒ»æµ®ãä¸ŠãŒã‚Šï¼‰ã‚’é©ç”¨
- åœæ­¢å¾Œã« `onStop(symbol)` ã‚’è¦ªã«é€šçŸ¥
- æœ€å¾Œã®ãƒªãƒ¼ãƒ«åœæ­¢æ™‚ã«ãƒªãƒ¼ãƒæ¼”å‡ºã‚’è§£é™¤

---

### 6. ãƒªãƒ¼ãƒæ¼”å‡ºï¼ˆSlotMachine.tsxï¼‰

- åœæ­¢æ¸ˆã¿ã®æœ€åˆã®2ãƒªãƒ¼ãƒ«ã®çµµæŸ„ãŒä¸€è‡´ã—ãŸå ´åˆã«ç™ºå‹•
- å›è»¢ä¸­ã®ãƒªãƒ¼ãƒ«ã«å…‰ã‚‹æ¼”å‡ºï¼ˆCSSï¼‰
- ãƒªãƒ¼ãƒSEï¼ˆ`reach.wav`ï¼‰ã‚’å†ç”Ÿ
- ç”»é¢ä¸­å¤®ã«ã€ŒğŸ¯ ãƒªãƒ¼ãƒï¼ã€ã‚’è¡¨ç¤ºï¼ˆç‚¹æ»…ï¼‰

---

### 7. å½“ãŸã‚Šåˆ¤å®šã¨å ±é…¬å‡¦ç†ï¼ˆSlotMachine.tsxï¼‰

```ts
useEffect(() => {
  if (isAllStopped && result.every((r) => r !== 'â”')) {
    const newHistory = [result, ...history.slice(0, 9)];
    setHistory(newHistory);
    localStorage.setItem('slotHistory', JSON.stringify(newHistory));

    const updatedCounts = { ...symbolCounts };
    result.forEach((symbol) => {
      updatedCounts[symbol] = (updatedCounts[symbol] || 0) + 1;
    });
    setSymbolCounts(updatedCounts);
    localStorage.setItem('slotCounts', JSON.stringify(updatedCounts));

    if (isWin) {
      const symbol = result[0];
      const multiplier = payoutTable[symbol] || 1;
      const reward = bet * multiplier;
      const newScore = score + reward;
      setScore(newScore);
      localStorage.setItem('slotScore', newScore.toString());
      setLastWinMessage(`${symbol}ã§${multiplier}å€ï¼ +${reward}ç‚¹`);
      playWinSound(symbol);
    }
  }
}, [isAllStopped]);
```

---

### 8. æ®‹é«˜è³¼å…¥åˆ¶é™ï¼ˆusePurchaseLimit.tsï¼‰

- 1å›ã«ã¤ã +100ç‚¹
- 1æ—¥æœ€å¤§3å›ã¾ã§è³¼å…¥å¯èƒ½
- è³¼å…¥å›æ•°ã¨æ—¥ä»˜ã‚’ localStorage ã«ä¿å­˜
- `canPurchase` ã«ã‚ˆã£ã¦ãƒœã‚¿ãƒ³ã®æœ‰åŠ¹/ç„¡åŠ¹ã‚’åˆ¶å¾¡

---

### 9. ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä¿å­˜å†…å®¹

| ã‚­ãƒ¼å                 | å†…å®¹                     |
|------------------------|--------------------------|
| `slotScore`            | ç¾åœ¨ã®ã‚¹ã‚³ã‚¢             |
| `slotHistory`          | æœ€æ–°10ä»¶ã®çµæœå±¥æ­´       |
| `slotCounts`           | çµµæŸ„ã”ã¨ã®å‡ºç¾å›æ•°       |
| `slotPurchaseDate`     | æœ€çµ‚è³¼å…¥æ—¥ï¼ˆYYYY-MM-DDï¼‰ |
| `slotPurchaseCount`    | å½“æ—¥è³¼å…¥å›æ•°ï¼ˆæœ€å¤§3ï¼‰    |

---

### 10. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

| ãƒ•ã‚¡ã‚¤ãƒ«å             | å½¹å‰²                                 |
|------------------------|--------------------------------------|
| `SlotMachine.tsx`      | ã‚²ãƒ¼ãƒ å…¨ä½“ã®çŠ¶æ…‹ç®¡ç†ã¨UI             |
| `Reel.tsx`             | ãƒªãƒ¼ãƒ«ã®æç”»ãƒ»å›è»¢ãƒ»åœæ­¢ãƒ»æ¼”å‡º       |
| `BetControls.tsx`      | ãƒ™ãƒƒãƒˆé¡ã®èª¿æ•´UI                     |
| `HistoryPanel.tsx`     | å±¥æ­´ã¨çµµæŸ„ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¡¨ç¤º             |
| `usePurchaseLimit.ts`  | æ®‹é«˜è³¼å…¥åˆ¶é™ãƒ­ã‚¸ãƒƒã‚¯                  |
| `AudioController.ts`   | éŸ³å£°å†ç”Ÿãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£               |
| `Reel.css`             | ãƒªãƒ¼ãƒ«ã®è¦‹ãŸç›®ã¨ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³       |
| `SlotMachine.css`      | ã‚²ãƒ¼ãƒ å…¨ä½“ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¨å…±é€šã‚¹ã‚¿ã‚¤ãƒ« |

---

### 11. æ‹¡å¼µã®ã‚¢ã‚¤ãƒ‡ã‚¢ ğŸ’¡
- ğŸµ éŸ³é‡èª¿æ•´ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®è¿½åŠ 
- ğŸ¨ çµµæŸ„ã”ã¨ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ¼”å‡º
- ğŸ† ã‚¹ã‚³ã‚¢ãƒ©ãƒ³ã‚­ãƒ³ã‚°æ©Ÿèƒ½ï¼ˆãƒ­ãƒ¼ã‚«ãƒ« or ã‚µãƒ¼ãƒãƒ¼é€£æºï¼‰
- ğŸ” ã‚ªãƒ¼ãƒˆã‚¹ãƒ”ãƒ³æ©Ÿèƒ½
- ğŸ§ éŸ³å£°ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®å°å…¥ï¼ˆéŸ³ãŒå¢—ãˆãŸã‚‰ï¼‰
- ğŸ§­ çµµæŸ„å›³é‘‘ãƒ»ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
- ğŸ•’ æ—¥æ›¿ã‚ã‚Šã‚¤ãƒ™ãƒ³ãƒˆãƒ»å­£ç¯€æ¼”å‡º